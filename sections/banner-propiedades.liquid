<section class="hero-search-wrapper-{{ section.id }}" data-section-id="{{ section.id }}">
  <div class="hero-search-bg">
    {% if section.settings.background_image != blank %}
      <img
        src="{{ section.settings.background_image | img_url: '2048x' }}"
        srcset="
          {{ section.settings.background_image | img_url: '600x' }} 600w,
          {{ section.settings.background_image | img_url: '1000x' }} 1000w,
          {{ section.settings.background_image | img_url: '2048x' }} 2048w
        "
        sizes="(max-width: 600px) 100vw, 50vw"
        alt="{{ section.settings.heading | escape }}"
        loading="lazy"
      >
    {% endif %}
    <div class="hero-search-overlay"></div>
  </div>

  <div class="hero-search-content">
    {% if section.settings.heading != blank %}
      <h1 class="hero-search-heading">{{ section.settings.heading }}</h1>
    {% endif %}

    {% if section.settings.subheading != blank %}
      <p class="hero-search-subheading">{{ section.settings.subheading }}</p>
    {% endif %}

    <form
      class="hero-search-form"
      action="/collections/todos-los-inmuebles"
      method="get"
      data-section-id="{{ section.id }}"
    >

      <!-- Venta / Renta como tag (ver nota abajo) -->
      <select name="tag" id="venta-select-{{ section.id }}">
        <option value="" disabled selected>{{ section.settings.label_venta_default }}</option>
        <option value="venta">Propiedades en venta</option>
        <option value="renta">Propiedades en renta</option>
      </select>

      <!-- Filtro de tipo de inmueble (product_type) -->
      <select
        name="filter.p.product_type"
        id="tipo-select-{{ section.id }}"
        aria-label="{{ section.settings.label_tipo_default | escape }}"
      >
        <option value="" disabled selected>{{ section.settings.label_tipo_default }}</option>

        {% if section.settings.option_tipo_1_label != blank %}
          <option value="{{ section.settings.option_tipo_1_label }}">
            {{ section.settings.option_tipo_1_label }}
          </option>
        {% endif %}

        {% if section.settings.option_tipo_2_label != blank %}
          <option value="{{ section.settings.option_tipo_2_label }}">
            {{ section.settings.option_tipo_2_label }}
          </option>
        {% endif %}

        <option value="Terreno">Terreno</option>
        <option value="Bodega">Bodega</option>

      </select>

      <button type="submit" class="hero-search-button">
        {{ section.settings.boton_texto }}
      </button>
    </form>
  </div>
</section>

<!-- Tu JS puedes dejarlo igual (opcional) -->
<script>
  (function () {
    // No es necesario revisar parámetros; deja que el GET haga su trabajo
  })();
</script>

<!-- Tus estilos CSS no cambian (visual sigue igual) -->
<style>
  /* ... PUEDES MANTENER TUS ESTILOS previos tal cual ... */
</style>

{% schema %}
{
  "name": "Hero búsqueda propiedades",
  "settings": [
    {
      "type": "image_picker",
      "id": "background_image",
      "label": "Imagen de fondo"
    },
    {
      "type": "range",
      "id": "overlay_intensity",
      "label": "Intensidad overlay",
      "min": 0,
      "max": 0.9,
      "step": 0.1,
      "default": 0.4
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Título",
      "default": "Busca tu propiedad ideal"
    },
    {
      "type": "text",
      "id": "subheading",
      "label": "Subtítulo",
      "default": "Encuentra casas, departamentos, terrenos y bodegas en las mejores ubicaciones."
    },
    {
      "type": "range",
      "id": "heading_size",
      "label": "Tamaño título (desktop)",
      "min": 24,
      "max": 72,
      "step": 2,
      "unit": "px",
      "default": 44
    },
    {
      "type": "range",
      "id": "heading_size_mobile",
      "label": "Tamaño título (móvil)",
      "min": 18,
      "max": 48,
      "step": 2,
      "unit": "px",
      "default": 32
    },
    {
      "type": "color",
      "id": "heading_color",
      "label": "Color título",
      "default": "#ffffff"
    },
    {
      "type": "range",
      "id": "subheading_size",
      "label": "Tamaño subtítulo (desktop)",
      "min": 12,
      "max": 28,
      "step": 1,
      "unit": "px",
      "default": 18
    },
    {
      "type": "range",
      "id": "subheading_size_mobile",
      "label": "Tamaño subtítulo (móvil)",
      "min": 12,
      "max": 24,
      "step": 1,
      "unit": "px",
      "default": 16
    },

    {
      "type": "header",
      "content": "Select Venta / Renta"
    },
    {
      "type": "text",
      "id": "label_venta_default",
      "label": "Label default",
      "default": "Venta / Renta"
    },

    {
      "type": "header",
      "content": "Select Tipo de inmueble"
    },
    {
      "type": "text",
      "id": "label_tipo_default",
      "label": "Label default",
      "default": "Tipo de inmueble"
    },
    {
      "type": "text",
      "id": "option_tipo_1_label",
      "label": "Tipo 1 label",
      "default": "Casa"
    },
    {
      "type": "text",
      "id": "option_tipo_2_label",
      "label": "Tipo 2 label",
      "default": "Departamento"
    },

    {
      "type": "header",
      "content": "Botón y colores"
    },
    {
      "type": "text",
      "id": "boton_texto",
      "label": "Texto botón",
      "default": "Buscar"
    },
    {
      "type": "color",
      "id": "search_text_color",
      "label": "Color texto selects",
      "default": "#111111"
    },
    {
      "type": "color",
      "id": "button_color",
      "label": "Color botón",
      "default": "#111111"
    },
    {
      "type": "color",
      "id": "button_text_color",
      "label": "Color texto botón",
      "default": "#ffffff"
    },

    {
      "type": "header",
      "content": "Alturas"
    },
    {
      "type": "range",
      "id": "altura_desktop",
      "label": "Altura (desktop)",
      "min": 50,
      "max": 100,
      "step": 5,
      "unit": "vh",
      "default": 70
    },
    {
      "type": "range",
      "id": "altura_mobile",
      "label": "Altura (móvil)",
      "min": 50,
      "max": 100,
      "step": 5,
      "unit": "vh",
      "default": 65
    }
  ],
  "presets": [
    {
      "name": "Hero búsqueda propiedades (sin ubicación)"
    }
  ]
}
{% endschema %}
